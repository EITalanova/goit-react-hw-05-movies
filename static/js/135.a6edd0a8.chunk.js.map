{"version":3,"file":"static/js/135.a6edd0a8.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","servises/movie-api.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"MovieDetails_btn__7L5IF\",\"container\":\"MovieDetails_container__Ys+c9\",\"box\":\"MovieDetails_box__0AyGO\",\"description\":\"MovieDetails_description__33mrB\",\"img\":\"MovieDetails_img__uOAom\",\"text\":\"MovieDetails_text__RHcc4\",\"title\":\"MovieDetails_title__cUGs9\"};","import { useEffect, useState, Suspense } from 'react';\nimport {\n  Outlet,\n  useParams,\n  useLocation,\n  useNavigate,\n  NavLink,\n  Link,\n} from 'react-router-dom';\n\nimport { getMovieDetails } from 'servises/movie-api';\n\nimport style from './MovieDetails.module.css';\n\nconst IMAGEURL = 'https://image.tmdb.org/t/p/w500/';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movie, setMovie] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setIsLoading(true);\n      try {\n        const movieData = await getMovieDetails(movieId);\n        setMovie(movieData);\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, [movieId]);\n\n  const handleGoBackBtn = () => {\n    navigate(location.state.from);\n  };\n\n  if (!movie) {\n    return;\n  }\n  const { genres, title, release_date, overview, vote_average, poster_path } =\n    movie;\n  const imageSRC = poster_path ? IMAGEURL + poster_path : '-------';\n  const userScore = Math.round((Number(vote_average) * 100) / 10);\n  const movieGenres = genres.map(genre => genre.name).join(' ');\n  const releaseDate = release_date.slice(0, 4);\n\n  return (\n    <>\n      <section className={style.container}>\n        {location.state?.from && (\n          <button className={style.btn} onClick={handleGoBackBtn}>\n            <span>Go back</span>\n          </button>\n        )}\n        {isLoading ? (\n          <div className={style.img}>Loading...</div>\n        ) : (\n          <Link className={style.box}>\n            <div>\n              <img src={`${imageSRC}`} alt={title} width={300} height={200} />\n            </div>\n\n            <div className={style.description}>\n              <h2 className={style.title}>\n                {title} {releaseDate && `(${releaseDate})`}\n              </h2>\n              <ul>\n                <li>\n                  {userScore > 0 && (\n                    <p>\n                      <b>User score:</b> {userScore}%\n                    </p>\n                  )}\n                </li>\n                <li>\n                  <b>Overwiew</b>\n                  <p>{overview}</p>\n                </li>\n                <li>\n                  <b>Genres</b>\n                  <p>{movieGenres || '-'}</p>\n                </li>\n              </ul>\n            </div>\n          </Link>\n        )}\n      </section>\n      <div className={style.container}>\n        <h3 className={style.title}>Additional information</h3>\n        <div>\n          <ul>\n            <li className={style.item}>\n              <NavLink to=\"cast\" state={location.state}>\n                Cast\n              </NavLink>\n            </li>\n            <li className={style.item}>\n              <NavLink to=\"reviews\" state={location.state}>\n                Reviews\n              </NavLink>\n            </li>\n          </ul>\n        </div>\n\n        <Suspense>\n          <Outlet />\n        </Suspense>\n      </div>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst API_KEY = 'b6c97f79ccd06825dbbba1fc21aaa7f0';\n\nexport const getMovieTrend = async () => {\n    const { data } = await axios.get(`trending/all/day?api_key=${API_KEY}`);\n    return data.results;\n}\n\nexport const getSearchMovie = async (query) => {\n    const { data } = await axios.get(`/search/movie?api_key=${API_KEY}&query=${query}&language=en-US&page=1&include_adult=false`);\n    return data;\n};\n\nexport const getMovieDetails = async (movieId) => {\n    const res = await axios.get(`movie/${movieId}?api_key=${API_KEY}`)\n        .catch(error => {\n            throw new Error('jjjj')\n        });\n    return res.data;\n};\n\nexport const getMovieCredits = async (movieId) => {\n    const { data } = await axios.get(`movie/${movieId}/credits?api_key=${API_KEY}&language=en-US`);\n    return data.cast;\n};\n\nexport const getMovieReviews = async (movieId) => {\n    const { data } = await axios.get(`movie/${movieId}/reviews?api_key=${API_KEY}`);\n    return data.results;\n};\n\n// export default getData;\n\n// https://api.themoviedb.org/3/search/movie?api_key=b6c97f79ccd06825dbbba1fc21aaa7f0&query=batmen"],"names":["movieId","useParams","useState","movie","setMovie","isLoading","setIsLoading","location","useLocation","navigate","useNavigate","useEffect","fetchData","getMovieDetails","movieData","console","log","genres","title","release_date","overview","vote_average","poster_path","imageSRC","userScore","Math","round","Number","movieGenres","map","genre","name","join","releaseDate","slice","className","style","state","from","onClick","src","alt","width","height","to","Suspense","axios","API_KEY","getMovieTrend","data","results","getSearchMovie","query","catch","error","Error","res","getMovieCredits","cast","getMovieReviews"],"sourceRoot":""}